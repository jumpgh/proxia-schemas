## Топология и адресация

Топология подключаемых устройств имеет древовидную иерархическую структуру

00:00:00:00:00:00:85:36
└── com
    ├── 1
    │   └── 1
    │       └── pulse
    │           └── 1
    └── 2
        ├── 1
        │   └── pulse
        │       └── 1
        └── 2
            └── pulse
                └── 1


Для адресации устройств используется следующее соглашение

```
 (id_корневого_устройства)/(тип_порта/номер_порта/(адрес_на_порту)?)*
```

где 
 - id_корневого_устройства - ip(legacy), mac, imei, deveui(lora) - глобально уникальный адрес конрневого устройства (УСК, УСПД)
 - тип_порта - допустимый тип порта (com, ethernet, pulse, analog, heat и т.п.)
 - номер_порта - номер порта в соответствии с конфигурацией устройства. Пара тип-номер порта должна быть локально уникальной
 - адрес_на_порту - локально уникальный адрес устройства в рамках адресации устройств на порту (при шинной топологии подключения и т.п.)

## Каналы общения с устройствами

Для взаимодействия с подключенными устройствами для каждого устройства заводится несколько топиков по типам потоков данных, включая, но не ограничиваясь:
- data (данные)
- event (события)
- action (управляющие воздействия)
- config (настройки)


например, data/00:00:00:00:00:00:85:36/com/1/1 - поток данных от устройства, подключенного к 1-му com-порту УСПД(или УСК) 00:00:00:00:00:00:85:36(уникальноый глобальный идентификатор) и имеющему адрес 1 на шине


## Опрос и управление устройствами

Опрос и управление устройствами осуществляется Poll Service. Poll Service подписывается на каналы
```
action/+
```
и ожидает по ним управляющих воздействий для конкретных устройств. Результат воздействия публикуется в канал
```
event/[адрес_устройства]
```
данные с устройства публикуются в канал
```
data/[адрес_устройства]
```

## Конфигурирование устройства

Конфигурирование устройства осуществляется Configuration Manager. Configuration Manager подписывается на каналы
```
config/+
```
по сообщению list-available-objects Configuration Manager формирует текущую конфигурацию устройств в формате













